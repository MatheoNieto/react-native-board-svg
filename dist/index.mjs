import Ce from"react";import O from"react";import eo from"react";import{View as to}from"react-native";import{boxRestyleFunctions as oo,composeRestyleFunctions as ro}from"@shopify/restyle";import{useRestyle as Xt}from"@shopify/restyle";var T=(e,t)=>Xt(e,t);import Zt from"react";import{Dimensions as $t}from"react-native";var{width:Bn,height:De}=$t.get("window"),d={sizeGrid:50,lineOffset:0,alignBars:0,paddingBars:0,colorGrid:"#E1E1E1",widthBoard:De,heightBoard:De,sizePointer:4,pointerColor:"#8F94AE",borderPointer:"#000000",unitMeasurement:"mm"};import{scaleBand as jt}from"d3-scale";var Ie=({domainData:e,sizeScreen:t,paddingInner:o=d.paddingBars,paddingOuter:n=d.paddingBars,align:a=d.alignBars})=>jt().domain(e).range([d.lineOffset,t-d.lineOffset]).paddingInner(o).paddingOuter(n).align(a).round(!0),X=e=>Ie(e),$=e=>Ie(e);var ve=e=>{let t=Array.from({length:d.sizeGrid},(i,p)=>p.toString()),o=X({domainData:t,sizeScreen:d.widthBoard}),n=$({domainData:t,sizeScreen:d.heightBoard}),a=t.map(i=>parseInt(o(i))),s=t.map(i=>parseInt(n(i)));return{x:Fe(a,e[0]),y:Fe(s,e[1])}},Fe=(e,t)=>{let o=e[0],n=Math.abs(t-e[0]);for(let a=1;a<e.length;a++){let s=Math.abs(t-e[a]);s<n&&(n=s,o=e[a])}return o};import*as j from"d3-shape";import{parse as qt,serialize as Jt}from"react-native-redash";var _e=(e,t=j.curveLinear)=>{let o=j.line().x(n=>n[0]).y(n=>n[1]).curve(t);return Jt(qt(o(e)))};var y=e=>Zt.forwardRef(e);function Qt(e,t){return t||e}var A=Qt;var no=ro(oo),ao=y(({as:e,...t},o)=>{let n=A(to,e),a=T(no,{...t});return eo.createElement(n,{ref:o,...a})}),c=ao;import fe from"react";import{Platform as we,Text as io,StyleSheet as po}from"react-native";import{composeRestyleFunctions as lo,layout as mo,position as co,textRestyleFunctions as uo}from"@shopify/restyle";var ue=(t=>(t.Primary="LibreFranklin",t))(ue||{}),Le={100:"-Thin",200:"-ExtraLight",300:"-Light",400:"-Regular",500:"-Medium",600:"-SemiBold",700:"-Bold",800:"-ExtraBold",900:"-Black",normal:"-Regular",bold:"-Bold",ultralight:"",thin:"",light:"",medium:"",regular:"",semibold:"",condensedBold:"",condensed:"",heavy:"",black:""};var Re=(e="normal",t="LibreFranklin")=>t&&ue[t]?`${t}${Le[e]??""}`:void 0;function so({fontFamily:e,fontWeight:t}){if(!e)return null;let o=Re(t,e);return{fontFamily:o??e,fontWeight:o?null:t}}var q=so;var fo=lo([...uo,co,mo]),yo=y(({as:e,style:t,onPress:o,isDisabled:n,onPressIn:a,onPressOut:s,isBlurred:i,_light:p,...l},g)=>{let u=A(io,e),[m,x]=fe.useState(!1),{style:[P],...S}=T(fo,{variant:"",...l,...p}),L=q(P),R=m?{backgroundColor:"rgba(0,0,0,0.1)",borderRadius:4}:void 0,B=f=>{x(!0),a?.(f)},I=f=>{x(!1),s?.(f)};return fe.createElement(u,{...S,ref:g,style:po.flatten([L,P,R,t]),onPress:o,onPressIn:we.select({ios:a,default:B}),onPressOut:we.select({ios:s,default:I}),disabled:n})}),D=fe.memo(yo);import*as N from"react";import{Animated as ke,Easing as Ge,Platform as Oe,StyleSheet as xo}from"react-native";import{boxRestyleFunctions as Po,composeRestyleFunctions as So}from"@shopify/restyle";import{Animated as ho,Pressable as go}from"react-native";var bo=ho.createAnimatedComponent(go),Ne=bo;var Bo=So(Po),To=y(({children:e,radius:t,isDisabled:o,rippleColor:n,borderless:a,activeOpacity:s,foreground:i,as:p,_dark:l,_light:g,...u},m)=>{let x=A(Ne,p),P=T(Bo,{...u,...g}),S=P.style?.[0]?.opacity||1,L=N.useRef(new ke.Value(S)).current,R=N.useRef(!1),B=(F,Kt)=>{Oe.OS!=="android"&&ke.timing(L,{toValue:F,duration:Kt,easing:Ge.inOut(Ge.quad),useNativeDriver:!0}).start()},I=F=>{B(s??.4,F)},f=F=>{B(S,F)},M=F=>{I(F.dispatchConfig.registrationName==="onResponderGrant"?0:150),P.onPressIn!=null&&P.onPressIn(F)},Ut=F=>{f(170),P.onPressOut!=null&&P.onPressOut(F)};return N.useEffect(()=>{R.current&&f(170),R.current=!0},[o,S]),N.createElement(x,{ref:m,android_ripple:{color:n||"rgba(0,0,0,0.1)",borderless:a,radius:t,foreground:i},...P,style:xo.flatten([P.style,Oe.OS!=="android"&&{opacity:L}]),disabled:o,onPressIn:M,onPressOut:Ut},e)}),v=To;import*as He from"react";import{View as Ao}from"react-native";import{boxRestyleFunctions as Eo,composeRestyleFunctions as Co,createVariant as Do}from"@shopify/restyle";var Io=Do({themeKey:"cardVariants"}),Fo=Co([...Eo,Io]),vo=y(({as:e,...t},o)=>{let n=A(Ao,e),a=T(Fo,{variant:"",...t});return He.createElement(n,{ref:o,...a})}),ye=vo;import{createRestyleComponent as _o,createVariant as Lo}from"@shopify/restyle";var Ro=Lo({themeKey:"dividerVariants"}),Ve=_o([Ro],c);Ve.defaultProps={variant:void 0};var he=Ve;import z from"react";import{StyleSheet as zo,Text as Wo,View as Uo}from"react-native";import{backgroundColor as Ko,backgroundColorShorthand as Xo,border as $o,color as Xe,composeRestyleFunctions as jo,createVariant as qo,layout as Jo,opacity as Zo,position as Qo,spacing as $e,spacingShorthand as er,typography as je}from"@shopify/restyle";import wo from"react";import{ActivityIndicator as No,Platform as ko}from"react-native";var Go={small:ko.select({android:28,default:"small"}),large:"large"},Oo=({size:e,...t})=>wo.createElement(No,{...t,size:Go[e]||e}),Me=Oo;import Y from"react";import{Animated as ge,Easing as Ye,Platform as ze,Pressable as Ho,StyleSheet as Vo}from"react-native";import Mo from"color";var Yo=y(({disabled:e,children:t,enableHighlight:o,activeOpacity:n=.1,underlayColor:a,as:s,foreground:i,borderless:p=!1,...l},g)=>{let u=A(Ho,s),m=Y.useRef(new ge.Value(0)).current,x=Y.useRef(!1),P=(B,I)=>{ze.OS!=="android"&&ge.timing(m,{toValue:B,duration:I,easing:Ye.inOut(Ye.quad),useNativeDriver:!0}).start()},S=B=>{P(0,B)},L=B=>{l.onPressIn!=null&&l.onPressIn(B)},R=B=>{S(170),l.onPressOut!=null&&l.onPressOut(B)};return Y.useEffect(()=>{x.current&&S(0),x.current=!0},[e]),Y.createElement(u,{ref:g,disabled:e,accessibilityRole:"button",android_ripple:ze.OS==="android"?{color:Mo(a).alpha(n).string(),borderless:p,foreground:i}:void 0,...l,onPressIn:L,onPressOut:R},t,o&&Y.createElement(ge.View,{style:[Vo.absoluteFillObject,{opacity:m,backgroundColor:a}],pointerEvents:"none"}))}),We=Yo;var Ue=e=>Object.keys(e);var tr=qo({themeKey:"buttonVariants"}),or=jo([Xe,je,Zo,er,$e,$o,Xo,Ko,Qo,Jo,tr]),rr=$e.map(({property:e})=>e),nr=[...Xe,...je].map(({property:e})=>e),ar=y(({children:e,spinner:t,isLoading:o,isDisabled:n=o,isFullWidth:a,variant:s="",alignSelf:i=a?"stretch":"flex-start",_disabled:p,style:l,...g},u)=>{let m={backgroundColor:s==="solid"?"disabled":void 0,opacity:s!=="solid"?.5:1,...p},x=T(or,{variant:s,alignSelf:i,...n&&m,...g}),P=q(x.style[0]),S=x.style[0],L={},{textStyle:R,spacingStyle:B}=Ue(S).reduce((I,f)=>{let M=!0;return nr.indexOf(f)!==-1?(I.textStyle[f]=S[f],M=!1):f.startsWith("margin")&&rr.indexOf(f)!==-1?(I.spacingStyle[f]=S[f],M=!1):f==="borderRadius"&&(I.spacingStyle[f]=S[f]),M&&(L[f]=S[f]),I},{textStyle:{},spacingStyle:{}});return z.createElement(Uo,{style:[Ke.container,B],pointerEvents:"box-none"},z.createElement(We,{...x,ref:u,style:[L,l],disabled:n,accessibilityState:{disabled:n,busy:o}},o&&(t||z.createElement(Me,{style:Ke.spinner,color:R.color,size:"small"})),z.createElement(Wo,{maxFontSizeMultiplier:1.3,style:[{...P},R]},e)))}),sr=z.memo(ar),Ke=zo.create({container:{overflow:"hidden"},spinner:{marginRight:8}});import ur from"react";import Je from"react";import{boxRestyleFunctions as ir,color as pr,composeRestyleFunctions as lr,createRestyleFunction as qe}from"@shopify/restyle";import{Svg as dr}from"react-native-svg";var mr=lr([...ir,pr,qe({property:"fill",themeKey:"colors"}),qe({property:"stroke",themeKey:"colors"})]),cr=y(({style:e,width:t,height:o,as:n,size:a,...s},i)=>{let p=A(dr,n),{style:[{fill:l,stroke:g,color:u,...m}],...x}=T(mr,{...s});return Je.createElement(p,{ref:i,style:[m,e],...Object.assign({},l&&{fill:l},g&&{stroke:g},u&&{color:u}),...x,width:a,height:a,...(t||o)&&{width:t,height:o}})}),Ze=Je.memo(cr);var fr=y((e,t)=>ur.createElement(Ze,{ref:t,...e,fill:e.fill,size:e.size??25})),k=fr;import{round as yr}from"react-native-redash";var Qe=["draw","measurements","finish"],E=class{static _calculateExponential(t,o=2){return Math.pow(t,o)}static _calculatePending(t,o){return(o[1]-t[1])/(o[0]-t[0])}static _calculateSizeLine(t,o){let n=o||t,a=n[0]-t[0],s=n[1]-t[1],i=this._calculateExponential(a)+this._calculateExponential(s),p=Math.sqrt(i);return yr(p,0)}static validateLineComplete(t){return t.length===0?!1:t[t.length-1].points.length===2}static createPoint(t){return{dataLines:[{points:[t],pending:0,distance:0,isLine:!1}]}}static createLineFromPoint(t,o){return{points:[t,o],pending:this._calculatePending(t,o),distance:this._calculateSizeLine(t,o),isLine:!0}}static createDataLines(t,o){return{...t,dataLines:[...t.dataLines,o]}}static updateMeasurements(t,o,n){let a=t.dataLines.map((s,i)=>i===o?{...s,distance:n}:s);return{...t,dataLines:a}}static getLastPoint(t){let o=t[t.length-1];return o.points[o.points.length-1]}static undoPoint(t){let o=t.dataLines.slice(0,-1);return{...t,dataLines:o}}static validAddNewPoint(t,o){return t.dataLines.find(n=>JSON.stringify(n.points[0])===JSON.stringify(o))}};var C=e=>Qe.findIndex(t=>t===e);var be=[{step:C("draw"),title:"Draw Points",description:""},{step:C("measurements"),title:"Change Measurements",description:""}];import{StyleSheet as xr}from"react-native";var J=class{constructor(t){this.repo=t}execute(t){let o=this.repo.getDataDraftFlashing();if(!o){let l=E.createPoint(t);this.repo.addDraftFlashing(l);return}let n=E.validateLineComplete(o.dataLines),a=E.getLastPoint(o.dataLines);if(E.validAddNewPoint(o,t))return;let i=E.createLineFromPoint(a,t);if(!n){this.repo.updateDraftFlashing({dataLines:[i]});return}let p=E.createDataLines(o,i);this.repo.updateDraftFlashing(p)}};var Z=class{constructor(t){this.repo=t}execute(){return this.repo.getStep()}};var Q=class{constructor(t){this.repo=t}execute(t){let o=this.repo.getDataDraftFlashing();if(!(!o||o.dataLines.length===0))return this.repo.changeStep(t)}};var ee=class{constructor(t){this.repo=t}execute(){return this.repo.getDataDraftFlashing()}};var te=class{constructor(t){this.repo=t}execute(){let t=this.repo.getDataDraftFlashing();if(!t)return;let o=E.undoPoint(t);if(o.dataLines.length<=1)return this.repo.clearDataDraftFlashing();this.repo.updateDraftFlashing(o)}};var oe=class{constructor(t){this.repo=t}execute(){this.repo.clearDataDraftFlashing()}};var re=class{constructor(t){this.repo=t}execute(t,o=!0){let n=this.repo.getDataDraftFlashing();if(!n?.dataLines)return;let a=this.repo.getLineSelectedIndex();if(isNaN(t))return;let s=E.updateMeasurements(n,a,t);this.repo.updateDraftFlashing(s),this.navigateLine(o)}navigateLine(t=!0){let o=this.repo.getDataDraftFlashing();if(!o?.dataLines)return;let n=o.dataLines.length-1,a=this.repo.getLineSelectedIndex(),s=this.repo.getStep();if(a===n&&t){this.repo.changeStep(s+1);return}let i=t?Math.min(a+1,n):Math.max(a-1,0);this.repo.changeIndexLineSelected(i)}};var ne=class{constructor(t){this.repo=t}execute(){return this.repo.getLineSelected()}};var et=e=>({addPoint:new J(e),getStep:new Z(e),changeStep:new Q(e),getFlashingDataDraft:new ee(e),undoPoints:new te(e),clearBoard:new oe(e),editMeasurement:new re(e),getLineSelected:new ne(e)});import{createContext as hr}from"react";var ae=hr(void 0);import{useContext as gr}from"react";var tt=()=>{let e=gr(ae);if(!e)throw new Error("useBoardContext must be used within BoardProvider");return e};var ot=e=>e.flashingDraft,rt=e=>e.stepIndex,nt=e=>e.indexLineSelected,at=e=>{if(e.flashingDraft?.dataLines)return e.flashingDraft.dataLines[e.indexLineSelected]};var st=()=>{let{dispatch:e,state:t}=tt();return{addDraftFlashing(o){e({type:"ADD_DRAFT_FLASHING",payload:o})},getDataDraftFlashing(){return ot(t)},updateDraftFlashing(o){e({type:"UPDATE_DRAFT_FLASHING",payload:o})},clearDataDraftFlashing(){e({type:"CLEAR"})},changeStep(o){e({type:"CHANGE_STEP",payload:o})},changeIndexLineSelected(o){e({type:"CHANGE_INDEX_LINE_SELECTED",payload:o})},getStep(){return rt(t)},getLineSelectedIndex(){return nt(t)},getLineSelected(){return at(t)}}};var b=()=>{let e=st(),t=et(e),o=t.getFlashingDataDraft.execute(),n=t.getStep.execute(),a=t.getLineSelected.execute();return{flashingDataDraft:o,stepBoard:n,lineSelected:a,addPoint:u=>t.addPoint.execute(u),changeStep:u=>t.changeStep.execute(u),undoPoint:()=>t.undoPoints.execute(),clearBoard:()=>t.clearBoard.execute(),editMeasurement:(u,m=!0)=>t.editMeasurement.execute(u,m)}};var Pr=()=>{let[e,t]=O.useState(),{stepBoard:o}=b();return O.useEffect(()=>{let n=be.find(a=>a.step===o);if(!n)return t(void 0);t(n)},[o,be]),e?O.createElement(c,{style:Sr.container,width:"100%",p:"m"},O.createElement(ye,{variant:"guide",p:"s",width:"70%"},O.createElement(D,{variant:"bodyBold",textAlign:"center"},e.title),e.description&&O.createElement(D,{variant:"bodyRegular",textAlign:"center"},e.description))):null},Sr=xr.create({container:{position:"absolute",backgroundColor:"transparent",top:-5,left:0,zIndex:1,alignItems:"center",justifyContent:"center"}}),xe=Pr;import w from"react";import{StyleSheet as Tr}from"react-native";import Pe from"react";var Br=({nameIcon:e,title:t,onPress:o,disabled:n=!0,...a})=>Pe.createElement(c,{p:"m",as:v,alignItems:"center",justifyContent:"center",width:100,onPress:()=>o&&!n&&o()},Pe.createElement(k,{as:e,...a,color:n?"grayIcon":"black",size:25}),Pe.createElement(D,null,t)),W=Br;import{default as se}from"./back-UJYW54WI.svg";import{default as it}from"./undo-CVIWDT3T.svg";import{default as pt}from"./clear-FWHPAAOX.svg";import{default as ie}from"./next-VQRHPQ2E.svg";import{default as pe}from"./complete-DXJMWFRX.svg";var Ar=({onSave:e})=>{let{stepBoard:t,changeStep:o,undoPoint:n,clearBoard:a,flashingDataDraft:s}=b(),i=w.useMemo(()=>!s||s.dataLines.length===0,[s]),p=w.useMemo(()=>t!==C("draw"),[t]),l=w.useMemo(()=>t===C("finish"),[t]),g=()=>{let m=t-1;m<0||o(m)},u=()=>{if(l&&s){e?.(s);return}let m=t+1;m<0||o(m)};return w.createElement(c,{py:{phone:"s",tablet:"m"},mb:"xl",px:{tablet:"s",phone:"unset"},backgroundColor:"white",position:"absolute",width:"100%",bottom:"-3%",style:lt.shadow},w.createElement(c,{px:"m",style:lt.content},w.createElement(W,{disabled:!1,nameIcon:se,onPress:g,title:"Back"}),w.createElement(W,{nameIcon:it,disabled:p||i,onPress:n,title:"Undo"}),w.createElement(W,{nameIcon:pt,disabled:p||i,onPress:a,title:"Clear"}),w.createElement(W,{nameIcon:l?pe:ie,disabled:i,onPress:u,title:"Next"})))},lt=Tr.create({content:{flexDirection:"row",alignItems:"center",justifyContent:"space-around",backgroundColor:"white"},shadow:{shadowOffset:{width:0,height:-4},elevation:16,shadowRadius:10,shadowColor:"rgba(47, 51, 80, 0.12)",shadowOpacity:1}}),Se=Ar;import{useRef as Er}from"react";var dt=()=>{let e=Er(null);return{scrollRef:e,scrollToY:o=>{!e||!e.current||e.current.scrollTo({x:0,y:o,animated:!0})}}};import Cr from"react";import{ScrollView as Dr}from"react-native";import{boxRestyleFunctions as Ir,composeRestyleFunctions as Fr}from"@shopify/restyle";var vr=Fr(Ir),_r=y(({as:e,_light:t,...o},n)=>{let a=A(Dr,e),s=T(vr,{...o,...t});return Cr.createElement(a,{ref:n,...s})}),mt=_r;import G from"react";import de from"react";import{TouchableOpacity as Kr}from"react-native";import{GestureHandlerRootView as Xr}from"react-native-gesture-handler";import _ from"react";import Be from"react";import{G as Lr,Rect as ct}from"react-native-svg";var Rr=()=>{let e=({domainData:n,heightLine:a,scaleXBar:s})=>n.map(i=>Be.createElement(ct,{key:`vertical-line${i}`,fill:d.colorGrid,width:1,height:a,y:0,x:s(i)})),t=({domainData:n,widthLine:a,scaleYBar:s})=>n.map(i=>Be.createElement(ct,{key:`horizontal-line${i}`,fill:d.colorGrid,width:a,height:1,y:s(i),x:0}));return(()=>{let n=Array.from({length:d.sizeGrid},(i,p)=>p.toString()),a=X({domainData:n,sizeScreen:d.widthBoard}),s=$({domainData:n,sizeScreen:d.heightBoard});return Be.createElement(Lr,null,e({domainData:n,scaleXBar:a,heightLine:d.heightBoard}),t({domainData:n,scaleYBar:s,widthLine:d.widthBoard}))})()},ut=Rr;import Wr from"react-native-svg";import ft from"react";import{G as wr,Path as Nr}from"react-native-svg";var kr=({line:e,id:t})=>ft.createElement(wr,{key:`groupPath${t}`},ft.createElement(Nr,{key:`normalLine${t}`,d:_e(e.points),strokeWidth:1,stroke:"#000"})),yt=kr;import Gr from"react";import{Circle as Or}from"react-native-svg";var Hr=e=>Gr.createElement(Or,{...e}),ht=Hr;import le from"react";import U from"react";import{Rect as Vr,Text as Mr}from"react-native-svg";var Yr=({fontSize:e=14,colorLabel:t="#000",rectFill:o="#fff",positionTextX:n,positionTextY:a,textValue:s,id:i,padding:p=4,pending:l=0})=>{let[g,u]=U.useState(0),m=e+p*2;return U.createElement(U.Fragment,null,g>0&&U.createElement(Vr,{key:`backgroundRect${i}`,x:n-g/2,y:a-m/2,width:g,height:m,fill:o,rx:4,ry:4,transform:`rotate(${Math.abs(l)}, ${n}, ${a})`}),U.createElement(Mr,{onLayout:x=>{u(x.nativeEvent.layout.width+p*2)},key:`backgroundSizeText${i}`,textAnchor:"middle",fontWeight:"bold",fill:t,y:a,x:n,transform:`rotate(${Math.abs(l)}, ${n}, ${a})`,fontSize:e},s))},gt=Yr;import{round as bt}from"react-native-redash";var xt=(e=0)=>e===1/0||e===-1/0||e===null?270:e===0?0:e-60,Pt=e=>{let t=e[0][0],o=e[1][0],n=e[0][1],a=e[1][1],s=(t+o)/2,i=(n+a)/2;return[bt(s,0),bt(i,0)]},St=(e,t,o,n=!0)=>{let p=e[0]+15,l=e[1];return t===0&&(l=l-12,p=e[0]),t===270&&o<100&&(l=e[1]+12),t<0&&(l=n?l:l+12),{positionText:[p,l],positionRect:[e[0],e[1]]}};var zr=({coordinates:e,index:t})=>{let{flashingDataDraft:o}=b(),n=le.useMemo(()=>{let p=o?.dataLines[t]?.pending;return xt(p)},[o,t]),a=le.useMemo(()=>o?o?.dataLines[t].distance?.toString():"",[o,t]),{positionRect:s,positionText:i}=le.useMemo(()=>{let p=Pt(e);return St(p,n,parseInt(a||"10"))},[e,n,a]);return le.createElement(gt,{id:Math.random(),positionTextX:i[0],positionTextY:i[1],positionTextXRect:s[0],positionTextYRect:s[1],textValue:a,pending:n})},Bt=zr;var Ur=({width:e=d.widthBoard,height:t=d.heightBoard})=>{let{flashingDataDraft:o}=b(),n=_.useMemo(()=>{let a=o?.dataLines;return!a||a.length<1?[]:a.map((s,i,p)=>({...s,path:s.points.length===2?_.createElement(yt,{id:i,line:s,nextLine:p[i+1]}):void 0}))},[o?.dataLines]);return _.createElement(_.Fragment,null,_.createElement(Wr,{width:e,height:t},_.createElement(ut,null),n.map(({points:a,path:s,isLine:i},p)=>_.createElement(_.Fragment,{key:`lines-component-group-${p}`},s,_.createElement(ht,{cx:a[0][0],cy:a[0][1],r:d.sizePointer,fill:d.pointerColor,strokeWidth:1,stroke:d.borderPointer}),i&&_.createElement(Bt,{coordinates:a,index:p})))))},Tt=Ur;var $r=()=>{let{stepBoard:e,addPoint:t}=b(),o=de.useMemo(()=>e===C("draw"),[e]);return de.createElement(Kr,{activeOpacity:1,onPress:a=>{if(!o)return;let s=ve([a.nativeEvent.locationX,a.nativeEvent.locationY]);t([s.x,s.y])}},de.createElement(Xr,null,de.createElement(Tt,null)))},At=$r;import h from"react";import{TextInput as jr}from"react-native";var Te=20,qr=()=>{let{editMeasurement:e,lineSelected:t}=b(),[o,n]=h.useState(0);h.useEffect(()=>{t&&n(t.distance)},[t]);let a=h.useRef(null),s=()=>{e(o,!1)},i=()=>{e(o)},p=l=>{n(parseInt(l,10))};return h.createElement(h.Fragment,null,h.createElement(c,{as:v,onPress:()=>null,position:"absolute",bottom:"105%",right:"0%",backgroundColor:"white",p:"xs",style:{zIndex:1,shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:5,shadowColor:"lightGray",borderTopLeftRadius:5,borderBottomLeftRadius:5}},h.createElement(k,{as:pe,color:"black",size:Te})),h.createElement(c,{p:"s",backgroundColor:"white"},h.createElement(c,{flexDirection:"row",alignItems:"center",justifyContent:"space-around"},h.createElement(c,{as:v,onPress:s},h.createElement(k,{color:"black",as:se,size:Te})),h.createElement(D,{variant:"subheadSecondary"},"Length"),h.createElement(c,{flexDirection:"row",alignItems:"center"},h.createElement(jr,{ref:a,inputMode:"numeric",keyboardType:"number-pad",style:[{textAlign:"center",height:30,width:80,backgroundColor:"white",color:"#000"}],value:`${isNaN(o)?"0":o}`,onChangeText:p}),h.createElement(D,{variant:"bodyBold"},d.unitMeasurement)),h.createElement(c,{as:v,onPress:i},h.createElement(k,{as:ie,color:"black",size:Te}))),h.createElement(he,{my:"s"})))},Et=qr;import{useEffect as Jr,useState as Zr}from"react";import{Keyboard as me}from"react-native";var Ct=({onKeyboardDidShow:e,onKeyboardDidHide:t})=>{let[o,n]=Zr(!1);return Jr(()=>{let a=me.addListener("keyboardDidShow",i=>{let p=i.endCoordinates.height,l=p+70;p<100||(n(!0),e?.(l))}),s=me.addListener("keyboardDidHide",()=>{n(!1),t?.()});return()=>{typeof a?.remove=="function"?a.remove():me.removeAllListeners("keyboardDidShow"),typeof s?.remove=="function"?s.remove():me.removeAllListeners("keyboardDidHide")}},[t,e]),o};import ce from"react";var Qr=({setScrollEnabled:e,scrollToY:t})=>{let{stepBoard:o}=b(),[n,a]=ce.useState(200);return Ct({onKeyboardDidShow:(i=357)=>{a(i),e(!0)},onKeyboardDidHide:()=>{e(!1),a(200),t(0)}}),ce.useMemo(()=>o===C("measurements"),[o])?ce.createElement(c,{height:n,position:"absolute",backgroundColor:"white",width:"100%",bottom:0},ce.createElement(Et,null)):null},Dt=Qr;import H from"react";import{StyleSheet as en}from"react-native";var It=160,tn=({onSave:e})=>{let{stepBoard:t,changeStep:o,flashingDataDraft:n}=b(),a=H.useMemo(()=>t===C("finish"),[t]),s=()=>{let p=C("measurements");o(p)},i=()=>{n&&e(n)};return a?H.createElement(c,{p:"m",my:"s",position:"absolute",bottom:"16%",width:"100%",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},H.createElement(v,{onPress:s,m:"s",width:It,flexDirection:"row-reverse",p:"m",borderRadius:"s",backgroundColor:"white",justifyContent:"center",alignItems:"center",style:Ft.shadow},H.createElement(D,{variant:"subheadMedium",mx:"s"},"Edit Sizes")),H.createElement(v,{onPress:i,width:It,m:"s",flexDirection:"row-reverse",p:"m",borderRadius:"s",alignItems:"center",justifyContent:"center",backgroundColor:"primaryBlue",style:Ft.shadow},H.createElement(D,{color:"white",variant:"subheadMedium",mx:"s"},"Save"))):null},Ft=en.create({shadow:{shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:5,shadowColor:"lightGray"}}),vt=tn;var on=({onSave:e})=>{let{scrollRef:t,scrollToY:o}=dt(),[n,a]=G.useState(!1);return G.createElement(G.Fragment,null,G.createElement(mt,{ref:t,showsVerticalScrollIndicator:!1,scrollEnabled:n},G.createElement(At,null)),G.createElement(Dt,{scrollToY:o,setScrollEnabled:a}),G.createElement(vt,{onSave:e}))},Ae=on;import K from"react";var rn=({onSave:e})=>K.createElement(K.Fragment,null,K.createElement(xe,{onFinish:()=>null}),K.createElement(Ae,{onSave:e}),K.createElement(Se,{onSave:e})),_t=rn;import Rt from"react";var Ee={stepIndex:0,flashingDraft:void 0,indexLineSelected:0},Lt=(e,t)=>{switch(t.type){case"ADD_DRAFT_FLASHING":return{...e,flashingDraft:t.payload};case"UPDATE_DRAFT_FLASHING":return e.flashingDraft?{...e,flashingDraft:{...e.flashingDraft,...t.payload}}:e;case"CHANGE_STEP":return{...e,stepIndex:t.payload};case"CHANGE_INDEX_LINE_SELECTED":return{...e,indexLineSelected:t.payload};case"CLEAR":return Ee;default:return e}};var nn=({children:e})=>{let[t,o]=Rt.useReducer(Lt,Ee);return Rt.createElement(ae.Provider,{value:{state:t,dispatch:o}},e)},wt=nn;import{ThemeProvider as cn}from"@shopify/restyle";import Ht from"color";import{createTheme as sn}from"@shopify/restyle";var an={base:{0:"#FFFFFF",25:"#F8F8FF",50:"#E6E6F5",100:"#CACBDE",200:"#9596B3",300:"#7B7C97",400:"#5F6076",500:"#46475A",700:"#252631",800:"#1B1C24",900:"#111217"},primary:{100:"#BFCCFF",300:"#7B8DDE",400:"#5B73D7",500:"#3356D7",700:"#2A46B9",900:"#1C2A9A"},success:{100:"#D2E7CE",600:"#57A551",700:"#147911"},error:{200:"#F0B0A1",400:"#EE3F22",500:"#CC1E00"},state:{processing:"#F4CC92",scheduled:"#A9DFE8"},overlay:{bodyDropLight:"rgba(0, 0, 0, 0.5)",bodyDropDark:"rgba(0, 0, 0, 0.5)",bodyOverlay:"rgba(17, 18, 23, 0.7)",navDropLight:"rgba(17, 18, 23, 0.15)",navDropDark:"rgba(0, 0, 0, 0.25)"},legacy:{black:"#000",blackAlpha500:"rgba(0,0,0,0.5)",blackAlpha250:"rgba(0,0,0,0.25)",charlotte:"#A9DFE8",lavender:"#F0B0A1",martinique:"#2F3350",orange:"#EB6E26",peach:"#FC725B",peachOrange:"#F4CC92",polar:"#F2F8FC",transparent:"rgba(255,255,255,0)",white:"#fff",textGray:"#8F94AE",primaryBlue:"#0E3A90",lightGray:"#8F94AE",lightGray2:"#D9D9D9",lightBlue:"#0E3A901A",grayIcon:"#828489",pointer:"#8F94AE",borderPointer:"#000000"}},r=an;var Nt={defaults:{padding:"m",marginBottom:"m",marginHorizontal:"m",backgroundColor:"white",borderRadius:"s",shadowOffset:{width:2,height:0},shadowOpacity:.5,shadowRadius:4,elevation:3,shadowColor:"lightGray"},guide:{width:200,padding:"s",backgroundColor:"white",marginBottom:"unset",marginHorizontal:"unset",borderRadius:"unset",shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:4,borderWidth:.2,borderColor:"black"}};var kt={defaults:{color:"textPrimary",letterSpacing:.049,fontSize:14},bodyRegular:{fontSize:{phone:14,tablet:17},fontWeight:"normal",lineHeight:18},menuEditor:{color:"textGray",letterSpacing:.049,fontSize:{phone:12,tablet:16}},bodyBold:{fontWeight:"600",fontSize:{phone:14,tablet:17},lineHeight:18},subheadSecondary:{fontWeight:"600",fontSize:14,lineHeight:16},subheadMedium:{fontWeight:"500",fontSize:16,lineHeight:20}};var Gt={defaults:{height:1,backgroundColor:"divider"}};var Ot={defaults:{borderRadius:"s",flexDirection:"row",alignItems:"center",justifyContent:"center",textAlign:"center",px:"m",py:{tablet:"m",phone:"s"},minHeight:50,fontWeight:"600",fontSize:{tablet:22,phone:17},letterSpacing:.049},smallMenu:{minHeight:30,fontSize:12,color:"black",borderWidth:1,borderColor:"black"},smallMenuActive:{backgroundColor:"primaryBlue",minHeight:30,fontSize:12,borderWidth:1,borderColor:"white",color:"white"},endType:{width:100,backgroundColor:"input",borderWidth:1,borderColor:"buttonBorder",height:50,marginHorizontal:"xs",marginTop:"s",fontSize:20}};var pn=sn({colors:{base0:r.base[0],base25:r.base[25],base50:r.base[50],base100:r.base[100],base200:r.base[200],base300:r.base[300],base400:r.base[400],base500:r.base[500],base700:r.base[700],base800:r.base[800],base900:r.base[900],success100:r.success[100],success700:r.success[700],bodyDrop:r.legacy.blackAlpha500,navDrop:r.legacy.blackAlpha250,black:r.base[900],white:r.base[0],primaryBlue:r.legacy.primaryBlue,transparent:r.base[0],primary100:r.primary[100],primary900:r.primary[900],bodyOverlay:r.overlay.bodyOverlay,error500:r.error[500],grayIcon:r.legacy.grayIcon,textGray:r.legacy.textGray,lightGray2:r.legacy.lightGray2,lightGray:r.legacy.lightGray},spacing:{unset:null,"1px":1,xxs:2,xs:4,s:8,m:16,l:24,xl:32,"2xl":48,"3xl":64,"4xl":96,"5xl":128,"6xl":256},borderRadii:{unset:null,"1px":1,xxs:2,xs:4,s:8,m:16,l:24,xl:32,"2xl":48,"3xl":64,"4xl":96,"5xl":128,"6xl":256},breakpoints:{phone:0,tablet:768},zIndices:{none:0,dropdown:10,modal:20,toast:30},textVariants:kt,cardVariants:Nt,dividerVariants:Gt,buttonVariants:Ot}),V=pn;var ln={...V,dark:!1,colors:{...V.colors,backgroundPattern:r.primary[700],backgrounds:r.base[25],border:r.base[50],buttonBorder:r.base[100],buttonBorderDisabled:Ht(r.base[100]).alpha(.7).rgb().string(),cards:r.base[0],grey100:r.base[100],grey200:r.base[200],grey25:r.base[25],grey300:r.base[300],grey400:r.base[400],grey50:r.base[50],grey900:r.base[900],iconPrimary:r.base[50],modalBackground:r.legacy.blackAlpha500,primary:r.primary[500],secondary:r.primary[900],shadow:r.legacy.martinique,skeletonBackground:r.base[100],skeletonHighlight:r.legacy.polar,successMessage:r.success[600],textPrimary:r.base[900],textSecondary:r.base[400],transparent:r.legacy.transparent,bodyDrop:r.overlay.bodyDropLight,divider:r.base[50],errorAlert:r.error[500],errorBackground:r.error[200],iconBackground:r.base[50],iconFill:r.base[0],input:r.base[0],inputBorder:r.base[100],inputBorderFocused:r.base[400],inputDisabled:r.base[50],navDrop:r.overlay.navDropLight,textPlaceholder:r.base[400],disabled:Ht(r.primary[500]).alpha(.4).rgb().string()}},Vt=ln;import Mt from"color";var dn={...V,dark:!0,colors:{...V.colors,backgroundPattern:r.primary[700],backgrounds:r.base[900],border:r.base[50],buttonBorder:r.base[100],buttonBorderDisabled:Mt(r.base[100]).alpha(.7).rgb().string(),cards:r.base[0],grey100:r.base[100],grey200:r.base[200],grey25:r.base[25],grey300:r.base[300],grey400:r.base[400],grey50:r.base[50],grey900:r.base[900],iconPrimary:r.base[50],modalBackground:r.legacy.blackAlpha500,primary:r.primary[500],secondary:r.primary[900],shadow:r.legacy.martinique,skeletonBackground:r.base[100],skeletonHighlight:r.legacy.polar,successMessage:r.success[600],textPrimary:r.base[0],textSecondary:r.base[400],transparent:r.legacy.transparent,bodyDrop:r.overlay.bodyDropLight,divider:r.base[50],errorAlert:r.error[500],errorBackground:r.error[200],iconBackground:r.base[50],iconFill:r.base[0],input:r.base[0],inputBorder:r.base[100],inputBorderFocused:r.base[400],inputDisabled:r.base[50],navDrop:r.overlay.navDropLight,textPlaceholder:r.base[400],disabled:Mt(r.primary[500]).alpha(.4).rgb().string()}},Yt=dn;import un from"react";import{Appearance as mn}from"react-native";var zt=()=>mn.getColorScheme()==="dark";var fn=({children:e})=>{let t=zt()?Yt:Vt;return un.createElement(cn,{theme:t},e)},Wt=fn;var yn=({onSave:e})=>Ce.createElement(Wt,null,Ce.createElement(wt,null,Ce.createElement(_t,{onSave:e}))),hn=yn;export{hn as Board};
//# sourceMappingURL=index.mjs.map