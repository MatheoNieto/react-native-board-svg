"use strict";var No=Object.create;var de=Object.defineProperty;var ko=Object.getOwnPropertyDescriptor;var Go=Object.getOwnPropertyNames;var Oo=Object.getPrototypeOf,Ho=Object.prototype.hasOwnProperty;var Vo=(e,t)=>{for(var o in t)de(e,o,{get:t[o],enumerable:!0})},tt=(e,t,o,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Go(t))!Ho.call(e,n)&&n!==o&&de(e,n,{get:()=>t[n],enumerable:!(a=ko(t,n))||a.enumerable});return e};var l=(e,t,o)=>(o=e!=null?No(Oo(e)):{},tt(t||!e||!e.__esModule?de(o,"default",{value:e,enumerable:!0}):o,e)),Mo=e=>tt(de({},"__esModule",{value:!0}),e);var Hr={};Vo(Hr,{Board:()=>Lo});module.exports=Mo(Hr);var Ge=l(require("react"));var U=l(require("react"));var mt=l(require("react")),ct=require("react-native"),ye=require("@shopify/restyle");var ot=require("@shopify/restyle"),E=(e,t)=>(0,ot.useRestyle)(e,t);var dt=l(require("react"));var nt=require("react-native"),{width:Wr,height:rt}=nt.Dimensions.get("window"),c={sizeGrid:50,lineOffset:0,alignBars:0,paddingBars:0,colorGrid:"#E1E1E1",widthBoard:rt,heightBoard:rt,sizePointer:4,pointerColor:"#8F94AE",borderPointer:"#000000",unitMeasurement:"mm"};var at=require("d3-scale"),st=({domainData:e,sizeScreen:t,paddingInner:o=c.paddingBars,paddingOuter:a=c.paddingBars,align:n=c.alignBars})=>(0,at.scaleBand)().domain(e).range([c.lineOffset,t-c.lineOffset]).paddingInner(o).paddingOuter(a).align(n).round(!0),me=e=>st(e),ce=e=>st(e);var pt=e=>{let t=Array.from({length:c.sizeGrid},(i,p)=>p.toString()),o=me({domainData:t,sizeScreen:c.widthBoard}),a=ce({domainData:t,sizeScreen:c.heightBoard}),n=t.map(i=>parseInt(o(i))),s=t.map(i=>parseInt(a(i)));return{x:it(n,e[0]),y:it(s,e[1])}},it=(e,t)=>{let o=e[0],a=Math.abs(t-e[0]);for(let n=1;n<e.length;n++){let s=Math.abs(t-e[n]);s<a&&(a=s,o=e[n])}return o};var ue=l(require("d3-shape")),fe=require("react-native-redash"),lt=(e,t=ue.curveLinear)=>{let o=ue.line().x(a=>a[0]).y(a=>a[1]).curve(t);return(0,fe.serialize)((0,fe.parse)(o(e)))};var b=e=>dt.default.forwardRef(e);function Yo(e,t){return t||e}var C=Yo;var zo=(0,ye.composeRestyleFunctions)(ye.boxRestyleFunctions),Wo=b(({as:e,...t},o)=>{let a=C(ct.View,e),n=E(zo,{...t});return mt.default.createElement(a,{ref:o,...n})}),f=Wo;var ge=l(require("react")),Y=require("react-native"),V=require("@shopify/restyle");var Oe=(t=>(t.Primary="LibreFranklin",t))(Oe||{}),ut={100:"-Thin",200:"-ExtraLight",300:"-Light",400:"-Regular",500:"-Medium",600:"-SemiBold",700:"-Bold",800:"-ExtraBold",900:"-Black",normal:"-Regular",bold:"-Bold",ultralight:"",thin:"",light:"",medium:"",regular:"",semibold:"",condensedBold:"",condensed:"",heavy:"",black:""};var ft=(e="normal",t="LibreFranklin")=>t&&Oe[t]?`${t}${ut[e]??""}`:void 0;function Uo({fontFamily:e,fontWeight:t}){if(!e)return null;let o=ft(t,e);return{fontFamily:o??e,fontWeight:o?null:t}}var he=Uo;var Ko=(0,V.composeRestyleFunctions)([...V.textRestyleFunctions,V.position,V.layout]),Xo=b(({as:e,style:t,onPress:o,isDisabled:a,onPressIn:n,onPressOut:s,isBlurred:i,_light:p,...d},x)=>{let y=C(Y.Text,e),[u,S]=ge.default.useState(!1),{style:[B],...T}=E(Ko,{variant:"",...d,...p}),G=he(B),O=u?{backgroundColor:"rgba(0,0,0,0.1)",borderRadius:4}:void 0,A=h=>{S(!0),n?.(h)},R=h=>{S(!1),s?.(h)};return ge.default.createElement(y,{...T,ref:x,style:Y.StyleSheet.flatten([G,B,O,t]),onPress:o,onPressIn:Y.Platform.select({ios:n,default:A}),onPressOut:Y.Platform.select({ios:s,default:R}),disabled:a})}),v=ge.default.memo(Xo);var z=l(require("react")),_=require("react-native"),xe=require("@shopify/restyle");var be=require("react-native"),$o=be.Animated.createAnimatedComponent(be.Pressable),yt=$o;var jo=(0,xe.composeRestyleFunctions)(xe.boxRestyleFunctions),qo=b(({children:e,radius:t,isDisabled:o,rippleColor:a,borderless:n,activeOpacity:s,foreground:i,as:p,_dark:d,_light:x,...y},u)=>{let S=C(yt,p),B=E(jo,{...y,...x}),T=B.style?.[0]?.opacity||1,G=z.useRef(new _.Animated.Value(T)).current,O=z.useRef(!1),A=(w,wo)=>{_.Platform.OS!=="android"&&_.Animated.timing(G,{toValue:w,duration:wo,easing:_.Easing.inOut(_.Easing.quad),useNativeDriver:!0}).start()},R=w=>{A(s??.4,w)},h=w=>{A(T,w)},ee=w=>{R(w.dispatchConfig.registrationName==="onResponderGrant"?0:150),B.onPressIn!=null&&B.onPressIn(w)},Ro=w=>{h(170),B.onPressOut!=null&&B.onPressOut(w)};return z.useEffect(()=>{O.current&&h(170),O.current=!0},[o,T]),z.createElement(S,{ref:u,android_ripple:{color:a||"rgba(0,0,0,0.1)",borderless:n,radius:t,foreground:i},...B,style:_.StyleSheet.flatten([B.style,_.Platform.OS!=="android"&&{opacity:G}]),disabled:o,onPressIn:ee,onPressOut:Ro},e)}),N=qo;var ht=l(require("react")),gt=require("react-native"),X=require("@shopify/restyle");var Jo=(0,X.createVariant)({themeKey:"cardVariants"}),Zo=(0,X.composeRestyleFunctions)([...X.boxRestyleFunctions,Jo]),Qo=b(({as:e,...t},o)=>{let a=C(gt.View,e),n=E(Zo,{variant:"",...t});return ht.createElement(a,{ref:o,...n})}),He=Qo;var Pe=require("@shopify/restyle");var er=(0,Pe.createVariant)({themeKey:"dividerVariants"}),bt=(0,Pe.createRestyleComponent)([er],f);bt.defaultProps={variant:void 0};var Ve=bt;var j=l(require("react")),q=require("react-native"),m=require("@shopify/restyle");var xt=l(require("react")),Se=require("react-native"),tr={small:Se.Platform.select({android:28,default:"small"}),large:"large"},or=({size:e,...t})=>xt.default.createElement(Se.ActivityIndicator,{...t,size:tr[e]||e}),Pt=or;var $=l(require("react")),D=require("react-native"),St=l(require("color"));var rr=b(({disabled:e,children:t,enableHighlight:o,activeOpacity:a=.1,underlayColor:n,as:s,foreground:i,borderless:p=!1,...d},x)=>{let y=C(D.Pressable,s),u=$.default.useRef(new D.Animated.Value(0)).current,S=$.default.useRef(!1),B=(A,R)=>{D.Platform.OS!=="android"&&D.Animated.timing(u,{toValue:A,duration:R,easing:D.Easing.inOut(D.Easing.quad),useNativeDriver:!0}).start()},T=A=>{B(0,A)},G=A=>{d.onPressIn!=null&&d.onPressIn(A)},O=A=>{T(170),d.onPressOut!=null&&d.onPressOut(A)};return $.default.useEffect(()=>{S.current&&T(0),S.current=!0},[e]),$.default.createElement(y,{ref:x,disabled:e,accessibilityRole:"button",android_ripple:D.Platform.OS==="android"?{color:(0,St.default)(n).alpha(a).string(),borderless:p,foreground:i}:void 0,...d,onPressIn:G,onPressOut:O},t,o&&$.default.createElement(D.Animated.View,{style:[D.StyleSheet.absoluteFillObject,{opacity:u,backgroundColor:n}],pointerEvents:"none"}))}),Bt=rr;var Tt=e=>Object.keys(e);var nr=(0,m.createVariant)({themeKey:"buttonVariants"}),ar=(0,m.composeRestyleFunctions)([m.color,m.typography,m.opacity,m.spacingShorthand,m.spacing,m.border,m.backgroundColorShorthand,m.backgroundColor,m.position,m.layout,nr]),sr=m.spacing.map(({property:e})=>e),ir=[...m.color,...m.typography].map(({property:e})=>e),pr=b(({children:e,spinner:t,isLoading:o,isDisabled:a=o,isFullWidth:n,variant:s="",alignSelf:i=n?"stretch":"flex-start",_disabled:p,style:d,...x},y)=>{let u={backgroundColor:s==="solid"?"disabled":void 0,opacity:s!=="solid"?.5:1,...p},S=E(ar,{variant:s,alignSelf:i,...a&&u,...x}),B=he(S.style[0]),T=S.style[0],G={},{textStyle:O,spacingStyle:A}=Tt(T).reduce((R,h)=>{let ee=!0;return ir.indexOf(h)!==-1?(R.textStyle[h]=T[h],ee=!1):h.startsWith("margin")&&sr.indexOf(h)!==-1?(R.spacingStyle[h]=T[h],ee=!1):h==="borderRadius"&&(R.spacingStyle[h]=T[h]),ee&&(G[h]=T[h]),R},{textStyle:{},spacingStyle:{}});return j.default.createElement(q.View,{style:[At.container,A],pointerEvents:"box-none"},j.default.createElement(Bt,{...S,ref:y,style:[G,d],disabled:a,accessibilityState:{disabled:a,busy:o}},o&&(t||j.default.createElement(Pt,{style:At.spinner,color:O.color,size:"small"})),j.default.createElement(q.Text,{maxFontSizeMultiplier:1.3,style:[{...B},O]},e)))}),lr=j.default.memo(pr),At=q.StyleSheet.create({container:{overflow:"hidden"},spinner:{marginRight:8}});var Dt=l(require("react"));var Me=l(require("react")),H=require("@shopify/restyle"),Et=require("react-native-svg");var dr=(0,H.composeRestyleFunctions)([...H.boxRestyleFunctions,H.color,(0,H.createRestyleFunction)({property:"fill",themeKey:"colors"}),(0,H.createRestyleFunction)({property:"stroke",themeKey:"colors"})]),mr=b(({style:e,width:t,height:o,as:a,size:n,...s},i)=>{let p=C(Et.Svg,a),{style:[{fill:d,stroke:x,color:y,...u}],...S}=E(dr,{...s});return Me.default.createElement(p,{ref:i,style:[u,e],...Object.assign({},d&&{fill:d},x&&{stroke:x},y&&{color:y}),...S,width:n,height:n,...(t||o)&&{width:t,height:o}})}),Ct=Me.default.memo(mr);var cr=b((e,t)=>Dt.default.createElement(Ct,{ref:t,...e,fill:e.fill,size:e.size??25})),W=cr;var It=require("react-native-redash"),Ft=["draw","measurements","finish"],I=class{static _calculateExponential(t,o=2){return Math.pow(t,o)}static _calculatePending(t,o){return(o[1]-t[1])/(o[0]-t[0])}static _calculateSizeLine(t,o){let a=o||t,n=a[0]-t[0],s=a[1]-t[1],i=this._calculateExponential(n)+this._calculateExponential(s),p=Math.sqrt(i);return(0,It.round)(p,0)}static validateLineComplete(t){return t.length===0?!1:t[t.length-1].points.length===2}static createPoint(t){return{dataLines:[{points:[t],pending:0,distance:0,isLine:!1}]}}static createLineFromPoint(t,o){return{points:[t,o],pending:this._calculatePending(t,o),distance:this._calculateSizeLine(t,o),isLine:!0}}static createDataLines(t,o){return{...t,dataLines:[...t.dataLines,o]}}static updateMeasurements(t,o,a){let n=t.dataLines.map((s,i)=>i===o?{...s,distance:a}:s);return{...t,dataLines:n}}static getLastPoint(t){let o=t[t.length-1];return o.points[o.points.length-1]}static undoPoint(t){let o=t.dataLines.slice(0,-1);return{...t,dataLines:o}}static validAddNewPoint(t,o){return t.dataLines.find(a=>JSON.stringify(a.points[0])===JSON.stringify(o))}};var F=e=>Ft.findIndex(t=>t===e);var Ye=[{step:F("draw"),title:"Draw Points",description:""},{step:F("measurements"),title:"Change Measurements",description:""}];var Ht=require("react-native");var Be=class{constructor(t){this.repo=t}execute(t){let o=this.repo.getDataDraftFlashing();if(!o){let d=I.createPoint(t);this.repo.addDraftFlashing(d);return}let a=I.validateLineComplete(o.dataLines),n=I.getLastPoint(o.dataLines);if(I.validAddNewPoint(o,t))return;let i=I.createLineFromPoint(n,t);if(!a){this.repo.updateDraftFlashing({dataLines:[i]});return}let p=I.createDataLines(o,i);this.repo.updateDraftFlashing(p)}};var Te=class{constructor(t){this.repo=t}execute(){return this.repo.getStep()}};var Ae=class{constructor(t){this.repo=t}execute(t){let o=this.repo.getDataDraftFlashing();if(!(!o||o.dataLines.length===0))return this.repo.changeStep(t)}};var Ee=class{constructor(t){this.repo=t}execute(){return this.repo.getDataDraftFlashing()}};var Ce=class{constructor(t){this.repo=t}execute(){let t=this.repo.getDataDraftFlashing();if(!t)return;let o=I.undoPoint(t);if(o.dataLines.length<=1)return this.repo.clearDataDraftFlashing();this.repo.updateDraftFlashing(o)}};var De=class{constructor(t){this.repo=t}execute(){this.repo.clearDataDraftFlashing()}};var Ie=class{constructor(t){this.repo=t}execute(t,o=!0){let a=this.repo.getDataDraftFlashing();if(!a?.dataLines)return;let n=this.repo.getLineSelectedIndex();if(isNaN(t))return;let s=I.updateMeasurements(a,n,t);this.repo.updateDraftFlashing(s),this.navigateLine(o)}navigateLine(t=!0){let o=this.repo.getDataDraftFlashing();if(!o?.dataLines)return;let a=o.dataLines.length-1,n=this.repo.getLineSelectedIndex(),s=this.repo.getStep();if(n===a&&t){this.repo.changeStep(s+1);return}let i=t?Math.min(n+1,a):Math.max(n-1,0);this.repo.changeIndexLineSelected(i)}};var Fe=class{constructor(t){this.repo=t}execute(){return this.repo.getLineSelected()}};var vt=e=>({addPoint:new Be(e),getStep:new Te(e),changeStep:new Ae(e),getFlashingDataDraft:new Ee(e),undoPoints:new Ce(e),clearBoard:new De(e),editMeasurement:new Ie(e),getLineSelected:new Fe(e)});var _t=require("react"),ve=(0,_t.createContext)(void 0);var Lt=require("react"),Rt=()=>{let e=(0,Lt.useContext)(ve);if(!e)throw new Error("useBoardContext must be used within BoardProvider");return e};var wt=e=>e.flashingDraft,Nt=e=>e.stepIndex,kt=e=>e.indexLineSelected,Gt=e=>{if(e.flashingDraft?.dataLines)return e.flashingDraft.dataLines[e.indexLineSelected]};var Ot=()=>{let{dispatch:e,state:t}=Rt();return{addDraftFlashing(o){e({type:"ADD_DRAFT_FLASHING",payload:o})},getDataDraftFlashing(){return wt(t)},updateDraftFlashing(o){e({type:"UPDATE_DRAFT_FLASHING",payload:o})},clearDataDraftFlashing(){e({type:"CLEAR"})},changeStep(o){e({type:"CHANGE_STEP",payload:o})},changeIndexLineSelected(o){e({type:"CHANGE_INDEX_LINE_SELECTED",payload:o})},getStep(){return Nt(t)},getLineSelectedIndex(){return kt(t)},getLineSelected(){return Gt(t)}}};var P=()=>{let e=Ot(),t=vt(e),o=t.getFlashingDataDraft.execute(),a=t.getStep.execute(),n=t.getLineSelected.execute();return{flashingDataDraft:o,stepBoard:a,lineSelected:n,addPoint:y=>t.addPoint.execute(y),changeStep:y=>t.changeStep.execute(y),undoPoint:()=>t.undoPoints.execute(),clearBoard:()=>t.clearBoard.execute(),editMeasurement:(y,u=!0)=>t.editMeasurement.execute(y,u)}};var fr=()=>{let[e,t]=U.default.useState(),{stepBoard:o}=P();return U.default.useEffect(()=>{let a=Ye.find(n=>n.step===o);if(!a)return t(void 0);t(a)},[o,Ye]),e?U.default.createElement(f,{style:yr.container,width:"100%",p:"m"},U.default.createElement(He,{variant:"guide",p:"s",width:"70%"},U.default.createElement(v,{variant:"bodyBold",textAlign:"center"},e.title),e.description&&U.default.createElement(v,{variant:"bodyRegular",textAlign:"center"},e.description))):null},yr=Ht.StyleSheet.create({container:{position:"absolute",backgroundColor:"transparent",top:-5,left:0,zIndex:1,alignItems:"center",justifyContent:"center"}}),ze=fr;var k=l(require("react")),Mt=require("react-native");var _e=l(require("react")),hr=({nameIcon:e,title:t,onPress:o,disabled:a=!0,...n})=>_e.default.createElement(f,{p:"m",as:N,alignItems:"center",justifyContent:"center",width:100,onPress:()=>o&&!a&&o()},_e.default.createElement(W,{as:e,...n,color:a?"grayIcon":"black",size:25}),_e.default.createElement(v,null,t)),te=hr;var oe=l(require("./back-UJYW54WI.svg")),We=l(require("./undo-CVIWDT3T.svg")),Ue=l(require("./clear-FWHPAAOX.svg")),re=l(require("./next-VQRHPQ2E.svg")),ne=l(require("./complete-DXJMWFRX.svg"));var gr=({onSave:e})=>{let{stepBoard:t,changeStep:o,undoPoint:a,clearBoard:n,flashingDataDraft:s}=P(),i=k.default.useMemo(()=>!s||s.dataLines.length===0,[s]),p=k.default.useMemo(()=>t!==F("draw"),[t]),d=k.default.useMemo(()=>t===F("finish"),[t]),x=()=>{let u=t-1;u<0||o(u)},y=()=>{if(d&&s){e?.(s);return}let u=t+1;u<0||o(u)};return k.default.createElement(f,{py:{phone:"s",tablet:"m"},mb:"xl",px:{tablet:"s",phone:"unset"},backgroundColor:"white",position:"absolute",width:"100%",bottom:"-3%",style:Vt.shadow},k.default.createElement(f,{px:"m",style:Vt.content},k.default.createElement(te,{disabled:!1,nameIcon:oe.default,onPress:x,title:"Back"}),k.default.createElement(te,{nameIcon:We.default,disabled:p||i,onPress:a,title:"Undo"}),k.default.createElement(te,{nameIcon:Ue.default,disabled:p||i,onPress:n,title:"Clear"}),k.default.createElement(te,{nameIcon:d?ne.default:re.default,disabled:i,onPress:y,title:"Next"})))},Vt=Mt.StyleSheet.create({content:{flexDirection:"row",alignItems:"center",justifyContent:"space-around",backgroundColor:"white"},shadow:{shadowOffset:{width:0,height:-4},elevation:16,shadowRadius:10,shadowColor:"rgba(47, 51, 80, 0.12)",shadowOpacity:1}}),Ke=gr;var Yt=require("react"),zt=()=>{let e=(0,Yt.useRef)(null);return{scrollRef:e,scrollToY:o=>{!e||!e.current||e.current.scrollTo({x:0,y:o,animated:!0})}}};var Wt=l(require("react")),Ut=require("react-native"),Le=require("@shopify/restyle");var br=(0,Le.composeRestyleFunctions)(Le.boxRestyleFunctions),xr=b(({as:e,_light:t,...o},a)=>{let n=C(Ut.ScrollView,e),s=E(br,{...o,...t});return Wt.default.createElement(n,{ref:a,...s})}),Kt=xr;var M=l(require("react"));var ie=l(require("react")),ao=require("react-native"),so=require("react-native-gesture-handler");var L=l(require("react"));var Re=l(require("react")),ae=require("react-native-svg"),Pr=()=>{let e=({domainData:a,heightLine:n,scaleXBar:s})=>a.map(i=>Re.default.createElement(ae.Rect,{key:`vertical-line${i}`,fill:c.colorGrid,width:1,height:n,y:0,x:s(i)})),t=({domainData:a,widthLine:n,scaleYBar:s})=>a.map(i=>Re.default.createElement(ae.Rect,{key:`horizontal-line${i}`,fill:c.colorGrid,width:n,height:1,y:s(i),x:0}));return(()=>{let a=Array.from({length:c.sizeGrid},(i,p)=>p.toString()),n=me({domainData:a,sizeScreen:c.widthBoard}),s=ce({domainData:a,sizeScreen:c.heightBoard});return Re.default.createElement(ae.G,null,e({domainData:a,scaleXBar:n,heightLine:c.heightBoard}),t({domainData:a,scaleYBar:s,widthLine:c.widthBoard}))})()},Xt=Pr;var ro=l(require("react-native-svg"));var Xe=l(require("react")),we=require("react-native-svg"),Sr=({line:e,id:t})=>Xe.default.createElement(we.G,{key:`groupPath${t}`},Xe.default.createElement(we.Path,{key:`normalLine${t}`,d:lt(e.points),strokeWidth:1,stroke:"#000"})),$t=Sr;var jt=l(require("react")),qt=require("react-native-svg"),Br=e=>jt.default.createElement(qt.Circle,{...e}),Jt=Br;var se=l(require("react"));var J=l(require("react")),Ne=require("react-native-svg"),Tr=({fontSize:e=14,colorLabel:t="#000",rectFill:o="#fff",positionTextX:a,positionTextY:n,textValue:s,id:i,padding:p=4,pending:d=0})=>{let[x,y]=J.default.useState(0),u=e+p*2;return J.default.createElement(J.default.Fragment,null,x>0&&J.default.createElement(Ne.Rect,{key:`backgroundRect${i}`,x:a-x/2,y:n-u/2,width:x,height:u,fill:o,rx:4,ry:4,transform:`rotate(${Math.abs(d)}, ${a}, ${n})`}),J.default.createElement(Ne.Text,{onLayout:S=>{y(S.nativeEvent.layout.width+p*2)},key:`backgroundSizeText${i}`,textAnchor:"middle",fontWeight:"bold",fill:t,y:n,x:a,transform:`rotate(${Math.abs(d)}, ${a}, ${n})`,fontSize:e},s))},Zt=Tr;var $e=require("react-native-redash"),Qt=(e=0)=>e===1/0||e===-1/0||e===null?270:e===0?0:e-60,eo=e=>{let t=e[0][0],o=e[1][0],a=e[0][1],n=e[1][1],s=(t+o)/2,i=(a+n)/2;return[(0,$e.round)(s,0),(0,$e.round)(i,0)]},to=(e,t,o,a=!0)=>{let p=e[0]+15,d=e[1];return t===0&&(d=d-12,p=e[0]),t===270&&o<100&&(d=e[1]+12),t<0&&(d=a?d:d+12),{positionText:[p,d],positionRect:[e[0],e[1]]}};var Ar=({coordinates:e,index:t})=>{let{flashingDataDraft:o}=P(),a=se.default.useMemo(()=>{let p=o?.dataLines[t]?.pending;return Qt(p)},[o,t]),n=se.default.useMemo(()=>o?o?.dataLines[t].distance?.toString():"",[o,t]),{positionRect:s,positionText:i}=se.default.useMemo(()=>{let p=eo(e);return to(p,a,parseInt(n||"10"))},[e,a,n]);return se.default.createElement(Zt,{id:Math.random(),positionTextX:i[0],positionTextY:i[1],positionTextXRect:s[0],positionTextYRect:s[1],textValue:n,pending:a})},oo=Ar;var Er=({width:e=c.widthBoard,height:t=c.heightBoard})=>{let{flashingDataDraft:o}=P(),a=L.default.useMemo(()=>{let n=o?.dataLines;return!n||n.length<1?[]:n.map((s,i,p)=>({...s,path:s.points.length===2?L.default.createElement($t,{id:i,line:s,nextLine:p[i+1]}):void 0}))},[o?.dataLines]);return L.default.createElement(L.default.Fragment,null,L.default.createElement(ro.default,{width:e,height:t},L.default.createElement(Xt,null),a.map(({points:n,path:s,isLine:i},p)=>L.default.createElement(L.default.Fragment,{key:`lines-component-group-${p}`},s,L.default.createElement(Jt,{cx:n[0][0],cy:n[0][1],r:c.sizePointer,fill:c.pointerColor,strokeWidth:1,stroke:c.borderPointer}),i&&L.default.createElement(oo,{coordinates:n,index:p})))))},no=Er;var Cr=()=>{let{stepBoard:e,addPoint:t}=P(),o=ie.default.useMemo(()=>e===F("draw"),[e]);return ie.default.createElement(ao.TouchableOpacity,{activeOpacity:1,onPress:n=>{if(!o)return;let s=pt([n.nativeEvent.locationX,n.nativeEvent.locationY]);t([s.x,s.y])}},ie.default.createElement(so.GestureHandlerRootView,null,ie.default.createElement(no,null)))},io=Cr;var g=l(require("react")),po=require("react-native"),je=20,Dr=()=>{let{editMeasurement:e,lineSelected:t}=P(),[o,a]=g.default.useState(0);g.default.useEffect(()=>{t&&a(t.distance)},[t]);let n=g.default.useRef(null),s=()=>{e(o,!1)},i=()=>{e(o)},p=d=>{a(parseInt(d,10))};return g.default.createElement(g.default.Fragment,null,g.default.createElement(f,{as:N,onPress:()=>null,position:"absolute",bottom:"105%",right:"0%",backgroundColor:"white",p:"xs",style:{zIndex:1,shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:5,shadowColor:"lightGray",borderTopLeftRadius:5,borderBottomLeftRadius:5}},g.default.createElement(W,{as:ne.default,color:"black",size:je})),g.default.createElement(f,{p:"s",backgroundColor:"white"},g.default.createElement(f,{flexDirection:"row",alignItems:"center",justifyContent:"space-around"},g.default.createElement(f,{as:N,onPress:s},g.default.createElement(W,{color:"black",as:oe.default,size:je})),g.default.createElement(v,{variant:"subheadSecondary"},"Length"),g.default.createElement(f,{flexDirection:"row",alignItems:"center"},g.default.createElement(po.TextInput,{ref:n,inputMode:"numeric",keyboardType:"number-pad",style:[{textAlign:"center",height:30,width:80,backgroundColor:"white",color:"#000"}],value:`${isNaN(o)?"0":o}`,onChangeText:p}),g.default.createElement(v,{variant:"bodyBold"},c.unitMeasurement)),g.default.createElement(f,{as:N,onPress:i},g.default.createElement(W,{as:re.default,color:"black",size:je}))),g.default.createElement(Ve,{my:"s"})))},lo=Dr;var ke=require("react"),pe=require("react-native"),mo=({onKeyboardDidShow:e,onKeyboardDidHide:t})=>{let[o,a]=(0,ke.useState)(!1);return(0,ke.useEffect)(()=>{let n=pe.Keyboard.addListener("keyboardDidShow",i=>{let p=i.endCoordinates.height,d=p+70;p<100||(a(!0),e?.(d))}),s=pe.Keyboard.addListener("keyboardDidHide",()=>{a(!1),t?.()});return()=>{typeof n?.remove=="function"?n.remove():pe.Keyboard.removeAllListeners("keyboardDidShow"),typeof s?.remove=="function"?s.remove():pe.Keyboard.removeAllListeners("keyboardDidHide")}},[t,e]),o};var le=l(require("react")),Ir=({setScrollEnabled:e,scrollToY:t})=>{let{stepBoard:o}=P(),[a,n]=le.default.useState(200);return mo({onKeyboardDidShow:(i=357)=>{n(i),e(!0)},onKeyboardDidHide:()=>{e(!1),n(200),t(0)}}),le.default.useMemo(()=>o===F("measurements"),[o])?le.default.createElement(f,{height:a,position:"absolute",backgroundColor:"white",width:"100%",bottom:0},le.default.createElement(lo,null)):null},co=Ir;var K=l(require("react")),yo=require("react-native"),uo=160,Fr=({onSave:e})=>{let{stepBoard:t,changeStep:o,flashingDataDraft:a}=P(),n=K.default.useMemo(()=>t===F("finish"),[t]),s=()=>{let p=F("measurements");o(p)},i=()=>{a&&e(a)};return n?K.default.createElement(f,{p:"m",my:"s",position:"absolute",bottom:"16%",width:"100%",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},K.default.createElement(N,{onPress:s,m:"s",width:uo,flexDirection:"row-reverse",p:"m",borderRadius:"s",backgroundColor:"white",justifyContent:"center",alignItems:"center",style:fo.shadow},K.default.createElement(v,{variant:"subheadMedium",mx:"s"},"Edit Sizes")),K.default.createElement(N,{onPress:i,width:uo,m:"s",flexDirection:"row-reverse",p:"m",borderRadius:"s",alignItems:"center",justifyContent:"center",backgroundColor:"primaryBlue",style:fo.shadow},K.default.createElement(v,{color:"white",variant:"subheadMedium",mx:"s"},"Save"))):null},fo=yo.StyleSheet.create({shadow:{shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:5,shadowColor:"lightGray"}}),ho=Fr;var vr=({onSave:e})=>{let{scrollRef:t,scrollToY:o}=zt(),[a,n]=M.default.useState(!1);return M.default.createElement(M.default.Fragment,null,M.default.createElement(Kt,{ref:t,showsVerticalScrollIndicator:!1,scrollEnabled:a},M.default.createElement(io,null)),M.default.createElement(co,{scrollToY:o,setScrollEnabled:n}),M.default.createElement(ho,{onSave:e}))},qe=vr;var Z=l(require("react")),_r=({onSave:e})=>Z.default.createElement(Z.default.Fragment,null,Z.default.createElement(ze,{onFinish:()=>null}),Z.default.createElement(qe,{onSave:e}),Z.default.createElement(Ke,{onSave:e})),go=_r;var Ze=l(require("react"));var Je={stepIndex:0,flashingDraft:void 0,indexLineSelected:0},bo=(e,t)=>{switch(t.type){case"ADD_DRAFT_FLASHING":return{...e,flashingDraft:t.payload};case"UPDATE_DRAFT_FLASHING":return e.flashingDraft?{...e,flashingDraft:{...e.flashingDraft,...t.payload}}:e;case"CHANGE_STEP":return{...e,stepIndex:t.payload};case"CHANGE_INDEX_LINE_SELECTED":return{...e,indexLineSelected:t.payload};case"CLEAR":return Je;default:return e}};var Lr=({children:e})=>{let[t,o]=Ze.default.useReducer(bo,Je);return Ze.default.createElement(ve.Provider,{value:{state:t,dispatch:o}},e)},xo=Lr;var Fo=require("@shopify/restyle");var Qe=l(require("color"));var Ao=require("@shopify/restyle");var Rr={base:{0:"#FFFFFF",25:"#F8F8FF",50:"#E6E6F5",100:"#CACBDE",200:"#9596B3",300:"#7B7C97",400:"#5F6076",500:"#46475A",700:"#252631",800:"#1B1C24",900:"#111217"},primary:{100:"#BFCCFF",300:"#7B8DDE",400:"#5B73D7",500:"#3356D7",700:"#2A46B9",900:"#1C2A9A"},success:{100:"#D2E7CE",600:"#57A551",700:"#147911"},error:{200:"#F0B0A1",400:"#EE3F22",500:"#CC1E00"},state:{processing:"#F4CC92",scheduled:"#A9DFE8"},overlay:{bodyDropLight:"rgba(0, 0, 0, 0.5)",bodyDropDark:"rgba(0, 0, 0, 0.5)",bodyOverlay:"rgba(17, 18, 23, 0.7)",navDropLight:"rgba(17, 18, 23, 0.15)",navDropDark:"rgba(0, 0, 0, 0.25)"},legacy:{black:"#000",blackAlpha500:"rgba(0,0,0,0.5)",blackAlpha250:"rgba(0,0,0,0.25)",charlotte:"#A9DFE8",lavender:"#F0B0A1",martinique:"#2F3350",orange:"#EB6E26",peach:"#FC725B",peachOrange:"#F4CC92",polar:"#F2F8FC",transparent:"rgba(255,255,255,0)",white:"#fff",textGray:"#8F94AE",primaryBlue:"#0E3A90",lightGray:"#8F94AE",lightGray2:"#D9D9D9",lightBlue:"#0E3A901A",grayIcon:"#828489",pointer:"#8F94AE",borderPointer:"#000000"}},r=Rr;var Po={defaults:{padding:"m",marginBottom:"m",marginHorizontal:"m",backgroundColor:"white",borderRadius:"s",shadowOffset:{width:2,height:0},shadowOpacity:.5,shadowRadius:4,elevation:3,shadowColor:"lightGray"},guide:{width:200,padding:"s",backgroundColor:"white",marginBottom:"unset",marginHorizontal:"unset",borderRadius:"unset",shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:4,borderWidth:.2,borderColor:"black"}};var So={defaults:{color:"textPrimary",letterSpacing:.049,fontSize:14},bodyRegular:{fontSize:{phone:14,tablet:17},fontWeight:"normal",lineHeight:18},menuEditor:{color:"textGray",letterSpacing:.049,fontSize:{phone:12,tablet:16}},bodyBold:{fontWeight:"600",fontSize:{phone:14,tablet:17},lineHeight:18},subheadSecondary:{fontWeight:"600",fontSize:14,lineHeight:16},subheadMedium:{fontWeight:"500",fontSize:16,lineHeight:20}};var Bo={defaults:{height:1,backgroundColor:"divider"}};var To={defaults:{borderRadius:"s",flexDirection:"row",alignItems:"center",justifyContent:"center",textAlign:"center",px:"m",py:{tablet:"m",phone:"s"},minHeight:50,fontWeight:"600",fontSize:{tablet:22,phone:17},letterSpacing:.049},smallMenu:{minHeight:30,fontSize:12,color:"black",borderWidth:1,borderColor:"black"},smallMenuActive:{backgroundColor:"primaryBlue",minHeight:30,fontSize:12,borderWidth:1,borderColor:"white",color:"white"},endType:{width:100,backgroundColor:"input",borderWidth:1,borderColor:"buttonBorder",height:50,marginHorizontal:"xs",marginTop:"s",fontSize:20}};var wr=(0,Ao.createTheme)({colors:{base0:r.base[0],base25:r.base[25],base50:r.base[50],base100:r.base[100],base200:r.base[200],base300:r.base[300],base400:r.base[400],base500:r.base[500],base700:r.base[700],base800:r.base[800],base900:r.base[900],success100:r.success[100],success700:r.success[700],bodyDrop:r.legacy.blackAlpha500,navDrop:r.legacy.blackAlpha250,black:r.base[900],white:r.base[0],primaryBlue:r.legacy.primaryBlue,transparent:r.base[0],primary100:r.primary[100],primary900:r.primary[900],bodyOverlay:r.overlay.bodyOverlay,error500:r.error[500],grayIcon:r.legacy.grayIcon,textGray:r.legacy.textGray,lightGray2:r.legacy.lightGray2,lightGray:r.legacy.lightGray},spacing:{unset:null,"1px":1,xxs:2,xs:4,s:8,m:16,l:24,xl:32,"2xl":48,"3xl":64,"4xl":96,"5xl":128,"6xl":256},borderRadii:{unset:null,"1px":1,xxs:2,xs:4,s:8,m:16,l:24,xl:32,"2xl":48,"3xl":64,"4xl":96,"5xl":128,"6xl":256},breakpoints:{phone:0,tablet:768},zIndices:{none:0,dropdown:10,modal:20,toast:30},textVariants:So,cardVariants:Po,dividerVariants:Bo,buttonVariants:To}),Q=wr;var Nr={...Q,dark:!1,colors:{...Q.colors,backgroundPattern:r.primary[700],backgrounds:r.base[25],border:r.base[50],buttonBorder:r.base[100],buttonBorderDisabled:(0,Qe.default)(r.base[100]).alpha(.7).rgb().string(),cards:r.base[0],grey100:r.base[100],grey200:r.base[200],grey25:r.base[25],grey300:r.base[300],grey400:r.base[400],grey50:r.base[50],grey900:r.base[900],iconPrimary:r.base[50],modalBackground:r.legacy.blackAlpha500,primary:r.primary[500],secondary:r.primary[900],shadow:r.legacy.martinique,skeletonBackground:r.base[100],skeletonHighlight:r.legacy.polar,successMessage:r.success[600],textPrimary:r.base[900],textSecondary:r.base[400],transparent:r.legacy.transparent,bodyDrop:r.overlay.bodyDropLight,divider:r.base[50],errorAlert:r.error[500],errorBackground:r.error[200],iconBackground:r.base[50],iconFill:r.base[0],input:r.base[0],inputBorder:r.base[100],inputBorderFocused:r.base[400],inputDisabled:r.base[50],navDrop:r.overlay.navDropLight,textPlaceholder:r.base[400],disabled:(0,Qe.default)(r.primary[500]).alpha(.4).rgb().string()}},Eo=Nr;var et=l(require("color"));var kr={...Q,dark:!0,colors:{...Q.colors,backgroundPattern:r.primary[700],backgrounds:r.base[900],border:r.base[50],buttonBorder:r.base[100],buttonBorderDisabled:(0,et.default)(r.base[100]).alpha(.7).rgb().string(),cards:r.base[0],grey100:r.base[100],grey200:r.base[200],grey25:r.base[25],grey300:r.base[300],grey400:r.base[400],grey50:r.base[50],grey900:r.base[900],iconPrimary:r.base[50],modalBackground:r.legacy.blackAlpha500,primary:r.primary[500],secondary:r.primary[900],shadow:r.legacy.martinique,skeletonBackground:r.base[100],skeletonHighlight:r.legacy.polar,successMessage:r.success[600],textPrimary:r.base[0],textSecondary:r.base[400],transparent:r.legacy.transparent,bodyDrop:r.overlay.bodyDropLight,divider:r.base[50],errorAlert:r.error[500],errorBackground:r.error[200],iconBackground:r.base[50],iconFill:r.base[0],input:r.base[0],inputBorder:r.base[100],inputBorderFocused:r.base[400],inputDisabled:r.base[50],navDrop:r.overlay.navDropLight,textPlaceholder:r.base[400],disabled:(0,et.default)(r.primary[500]).alpha(.4).rgb().string()}},Co=kr;var vo=l(require("react"));var Do=require("react-native"),Io=()=>Do.Appearance.getColorScheme()==="dark";var Gr=({children:e})=>{let t=Io()?Co:Eo;return vo.default.createElement(Fo.ThemeProvider,{theme:t},e)},_o=Gr;var Or=({onSave:e})=>Ge.default.createElement(_o,null,Ge.default.createElement(xo,null,Ge.default.createElement(go,{onSave:e}))),Lo=Or;0&&(module.exports={Board});
//# sourceMappingURL=index.js.map